{% extends "base.html" %}

{% from "macros.html" import render_cube %}

{% block script %}
    {% if cube|is_solved %}
        <script src={{ url_for("static", filename="script.js") }} type="text/javascript" defer></script>
        <noscript>Congratulations!</noscript>
    {% endif %}
{% endblock %}

{% block body %}
    <div class="centered">
        {{ render_cube(cube.get_sides()) }}
        <form class="centered" action="" method="post" autocomplete="off">
            {{ form.csrf_token }}
            <p class="centered">
                {{ form.sequence.label }}
                {{ form.sequence }}
                {% for error in form.sequence.errors %}
                {{ error }}
                {% endfor %}
            </p>
            <p class="centered">
                {{ form.rotate.label }}
                {{ form.rotate }}
            </p>
            <p class="centered">
                {{ form.to_menu }}
                {{ form.apply }}
            </p>
        </form>
        <p>
            {% with messages = get_flashed_messages() %}
                {{ messages[0] if messages else "" }}
            {% endwith %}
        </p>
    </div>
{% endblock %}
